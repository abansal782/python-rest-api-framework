<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>REST API Framework API references &mdash; Python Rest Api Framework 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Python Rest Api Framework 0.1 documentation" href="index.html" />
    <link rel="prev" title="Using more than a single endpoint" href="multiple_endpoint.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="multiple_endpoint.html" title="Using more than a single endpoint"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Python Rest Api Framework 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="rest-api-framework-api-references">
<h1>REST API Framework API references<a class="headerlink" href="#rest-api-framework-api-references" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-rest_api_framework.controllers">
<span id="controllers"></span><h2>Controllers<a class="headerlink" href="#module-rest_api_framework.controllers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="rest_api_framework.controllers.ApiController">
<em class="property">class </em><tt class="descclassname">rest_api_framework.controllers.</tt><tt class="descname">ApiController</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController" title="Permalink to this definition">¶</a></dt>
<dd><p>Inherit from <a class="reference internal" href="#rest_api_framework.controllers.WSGIWrapper" title="rest_api_framework.controllers.WSGIWrapper"><tt class="xref py py-class docutils literal"><span class="pre">WSGIWrapper</span></tt></a> and <a class="reference internal" href="#rest_api_framework.controllers.Dispatcher" title="rest_api_framework.controllers.Dispatcher"><tt class="xref py py-class docutils literal"><span class="pre">Dispatcher</span></tt></a>
implement the base API method. Should be inherited to create your own API</p>
<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.create">
<tt class="descname">create</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new object in the datastore</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.delete">
<tt class="descname">delete</tt><big>(</big><em>request</em>, <em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.delete" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.get">
<tt class="descname">get</tt><big>(</big><em>request</em>, <em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an object or 404</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.get_list">
<tt class="descname">get_list</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.get_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.get_list" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.index">
<tt class="descname">index</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.index" title="Permalink to this definition">¶</a></dt>
<dd><p>The root url of your ressources. Should present a list of
ressources if method is GET.
Should create a ressource if method is POST
:param request:
:type request: <tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>
if self.auth is set call
<a class="reference internal" href="#rest_api_framework.authentication.Authentication.check_auth" title="rest_api_framework.authentication.Authentication.check_auth"><tt class="xref py py-meth docutils literal"><span class="pre">authentication.Authentication.check_auth()</span></tt></a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference internal" href="#rest_api_framework.controllers.ApiController.get_list" title="rest_api_framework.controllers.ApiController.get_list"><tt class="xref py py-meth docutils literal"><span class="pre">get_list()</span></tt></a> if request.method is GET,
<a class="reference internal" href="#rest_api_framework.controllers.ApiController.create" title="rest_api_framework.controllers.ApiController.create"><tt class="xref py py-meth docutils literal"><span class="pre">create()</span></tt></a> if request.method is POST</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.paginate">
<tt class="descname">paginate</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.paginate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.paginate" title="Permalink to this definition">¶</a></dt>
<dd><p>A pagination example. Feel free to implement your own</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.unique_uri">
<tt class="descname">unique_uri</tt><big>(</big><em>request</em>, <em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.unique_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.unique_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>Retreive a unique object with his URI.
Act on it accordingly to the Http verb used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.ApiController.update">
<tt class="descname">update</tt><big>(</big><em>request</em>, <em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#ApiController.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.ApiController.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update an object in the datastore</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rest_api_framework.controllers.Controller">
<em class="property">class </em><tt class="descclassname">rest_api_framework.controllers.</tt><tt class="descname">Controller</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#Controller"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.Controller" title="Permalink to this definition">¶</a></dt>
<dd><p>The main views of the application</p>
</dd></dl>

<dl class="class">
<dt id="rest_api_framework.controllers.Dispatcher">
<em class="property">class </em><tt class="descclassname">rest_api_framework.controllers.</tt><tt class="descname">Dispatcher</tt><big>(</big><em>urls</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#Dispatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.Dispatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatcher auto map urls to views methods defined in <a class="reference internal" href="#rest_api_framework.controllers.Controller" title="rest_api_framework.controllers.Controller"><tt class="xref py py-class docutils literal"><span class="pre">Controller</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Dispatcher</span><span class="p">(</span>
           <span class="p">[</span>
            <span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">,</span> <span class="s">&quot;index&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;GET&quot;</span><span class="p">]),</span>
            <span class="p">(</span><span class="s">&quot;/register/&quot;</span><span class="p">,</span> <span class="s">&quot;register&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s">&quot;GET&quot;</span><span class="p">,</span> <span class="s">&quot;POST&quot;</span><span class="p">],</span>
           <span class="p">]</span>
          <span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="rest_api_framework.controllers.Dispatcher.dispatch_request">
<tt class="descname">dispatch_request</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#Dispatcher.dispatch_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.Dispatcher.dispatch_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the <tt class="xref py py-class docutils literal"><span class="pre">werkzeug.routing.Map</span></tt> constructed by
<a class="reference internal" href="#rest_api_framework.controllers.Dispatcher.load_urls" title="rest_api_framework.controllers.Dispatcher.load_urls"><tt class="xref py py-meth docutils literal"><span class="pre">load_urls()</span></tt></a> call the view method with the request
object and return the response object.</p>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.controllers.Dispatcher.load_urls">
<tt class="descname">load_urls</tt><big>(</big><em>urls</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#Dispatcher.load_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.Dispatcher.load_urls" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>urls</strong> (<em>list</em>) &#8211; A list of tuple in the form (url(string),
view(string), permitted Http verbs(list))</td>
</tr>
</tbody>
</table>
<p>return a <tt class="xref py py-class docutils literal"><span class="pre">werkzeug.routing.Map</span></tt></p>
<p>this method is automaticaly called by __init__ to build the
<a class="reference internal" href="#rest_api_framework.controllers.Controller" title="rest_api_framework.controllers.Controller"><tt class="xref py py-class docutils literal"><span class="pre">Controller</span></tt></a> urls mapping</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="rest_api_framework.controllers.WSGIDispatcher">
<em class="property">class </em><tt class="descclassname">rest_api_framework.controllers.</tt><tt class="descname">WSGIDispatcher</tt><big>(</big><em>apps</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/controllers.html#WSGIDispatcher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.WSGIDispatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>WSGIDispatcher take a list of <a class="reference internal" href="#rest_api_framework.controllers.Controller" title="rest_api_framework.controllers.Controller"><tt class="xref py py-class docutils literal"><span class="pre">Controller</span></tt></a> and mount them
on their ressource mount point.
basic syntax is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">app</span> <span class="o">=</span> <span class="n">WSGIDispatcher</span><span class="p">([</span><span class="n">FirstApp</span><span class="p">,</span> <span class="n">SecondApp</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="rest_api_framework.controllers.WSGIWrapper">
<em class="property">class </em><tt class="descclassname">rest_api_framework.controllers.</tt><tt class="descname">WSGIWrapper</tt><a class="reference internal" href="_modules/rest_api_framework/controllers.html#WSGIWrapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.controllers.WSGIWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Base Wsgi application loader. WSGIWrapper is an abstract
class. Herited by <a class="reference internal" href="#rest_api_framework.controllers.ApiController" title="rest_api_framework.controllers.ApiController"><tt class="xref py py-class docutils literal"><span class="pre">ApiController</span></tt></a> it make the class
callable and implement the request/response process</p>
</dd></dl>

</div>
<div class="section" id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="rest_api_framework.authentication.Authentication">
<em class="property">class </em><tt class="descclassname">rest_api_framework.authentication.</tt><tt class="descname">Authentication</tt><a class="reference internal" href="_modules/rest_api_framework/authentication.html#Authentication"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.authentication.Authentication" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="rest_api_framework.authentication.Authentication.check_auth">
<tt class="descname">check_auth</tt><big>(</big><em>request</em><big>)</big><a class="headerlink" href="#rest_api_framework.authentication.Authentication.check_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return None if the request user is authorized to perform this
action, raise Unauthorized otherwise</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>request</strong> (<tt class="xref py py-class docutils literal"><span class="pre">werkzeug.wrappers.Request</span></tt>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="pagination">
<h2>Pagination<a class="headerlink" href="#pagination" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="rest_api_framework.pagination.Pagination">
<em class="property">class </em><tt class="descclassname">rest_api_framework.pagination.</tt><tt class="descname">Pagination</tt><big>(</big><em>max_result</em>, <em>offset_key='offset'</em>, <em>count_key='count'</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/pagination.html#Pagination"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.pagination.Pagination" title="Permalink to this definition">¶</a></dt>
<dd><p>The base implementation of Pagination.
__init__ define max, offset and count.</p>
<dl class="method">
<dt id="rest_api_framework.pagination.Pagination.paginate">
<tt class="descname">paginate</tt><big>(</big><em>request</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/pagination.html#Pagination.paginate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.pagination.Pagination.paginate" title="Permalink to this definition">¶</a></dt>
<dd><p>return an offset, a count and the request kawrgs without
pagination parameters</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="datastore">
<h2>DataStore<a class="headerlink" href="#datastore" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base-datastore">
<h3>Base DataStore<a class="headerlink" href="#base-datastore" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">rest_api_framework.datastore.base.</tt><tt class="descname">DataStore</tt><big>(</big><em>ressource_config</em>, <em>model</em>, <em>**options</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/base.html#DataStore"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>define a source of data. Can be anything fron database to other
api, files and so one</p>
<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">create</tt><big>(</big><em>data</em><big>)</big></dt>
<dd><p>data is a dict containing the representation of the
ressource. This method should call
<tt class="xref py py-meth docutils literal"><span class="pre">validate()</span></tt>,
create the data in the datastore and return the ressource
identifier</p>
<p>Not implemented by base DataStore class</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">delete</tt><big>(</big><em>identifier</em><big>)</big></dt>
<dd><p>should be able to validate the existence of the object in the
ressource and remove it from the datastore</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented by base DataStore class</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">filter</tt><big>(</big><em>**kwargs</em><big>)</big></dt>
<dd><p>should return a way to filter the ressource according to
kwargs.  It is not mandatory to actualy retreive the
ressources as they will be paginated just after the filter
call. If you retreive the wole filtered ressources you loose
the pagination advantage. The point here is to prepare the
filtering. Look at SQLiteDataStore.filter for an example.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented by base DataStore class</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">get</tt><big>(</big><em>identifier</em><big>)</big></dt>
<dd><p>Should return a dictionnary representing the ressource matching the
identifier or raise a NotFound exception.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented by base DataStore class</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">get_list</tt><big>(</big><em>offset=None</em>, <em>count=None</em>, <em>**kwargs</em><big>)</big></dt>
<dd><p>This method is called each time you want a set of data.
Data could be paginated and filtered.
Should call <tt class="xref py py-meth docutils literal"><span class="pre">filter()</span></tt>
and return <tt class="xref py py-meth docutils literal"><span class="pre">paginate()</span></tt></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented by base DataStore class</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">paginate</tt><big>(</big><em>data</em>, <em>offset</em>, <em>count</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/base.html#DataStore.paginate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Paginate sould return all the object if no pagination options
have been set or only a subset of the ressources if pagination
options exists.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">update</tt><big>(</big><em>obj</em>, <em>data</em><big>)</big></dt>
<dd><p>should be able to call <tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt> to retreive the
object to be updated, <tt class="xref py py-meth docutils literal"><span class="pre">validate_fields()</span></tt> and
return the updated object</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not implemented by base DataStore class</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">validate</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/base.html#DataStore.validate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Check if data send are valid for object creation. Validate
Chek that each required fields are in data and check for their
type too.</p>
<p>Used to create new ressources</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">DataStore.</tt><tt class="descname">validate_fields</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/base.html#DataStore.validate_fields"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate only some fields of the ressource.
Used to update existing objects</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="simple-datastore">
<h3>Simple DataStore<a class="headerlink" href="#simple-datastore" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="rest_api_framework.datastore.simple.PythonListDataStore">
<em class="property">class </em><tt class="descclassname">rest_api_framework.datastore.simple.</tt><tt class="descname">PythonListDataStore</tt><big>(</big><em>ressource_config</em>, <em>model</em>, <em>**options</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/simple.html#PythonListDataStore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.datastore.simple.PythonListDataStore" title="Permalink to this definition">¶</a></dt>
<dd><p>a datastore made of list of dicts</p>
<dl class="method">
<dt id="rest_api_framework.datastore.simple.PythonListDataStore.get">
<tt class="descname">get</tt><big>(</big><em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/simple.html#PythonListDataStore.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.datastore.simple.PythonListDataStore.get" title="Permalink to this definition">¶</a></dt>
<dd><p>return an object matching the uri or None</p>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.datastore.simple.PythonListDataStore.get_list">
<tt class="descname">get_list</tt><big>(</big><em>offset=0</em>, <em>count=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/simple.html#PythonListDataStore.get_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.datastore.simple.PythonListDataStore.get_list" title="Permalink to this definition">¶</a></dt>
<dd><p>return all the objects paginated if needed</p>
</dd></dl>

<dl class="method">
<dt id="rest_api_framework.datastore.simple.PythonListDataStore.update">
<tt class="descname">update</tt><big>(</big><em>obj</em>, <em>data</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/simple.html#PythonListDataStore.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rest_api_framework.datastore.simple.PythonListDataStore.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a single object</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sqlitedatastore">
<h3>SQLiteDataStore<a class="headerlink" href="#sqlitedatastore" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt>
<em class="property">class </em><tt class="descclassname">rest_api_framework.datastore.sql.</tt><tt class="descname">SQLiteDataStore</tt><big>(</big><em>ressource_config</em>, <em>model</em>, <em>**options</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Define a sqlite datastore for your ressource.  you have to give
__init__ a data parameter containing the information to connect to
the database and to the table.</p>
<p>example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s">&quot;table&quot;</span><span class="p">:</span> <span class="s">&quot;tweets&quot;</span><span class="p">,</span>
      <span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;test.db&quot;</span><span class="p">}</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ApiModel</span>
<span class="n">datastore</span> <span class="o">=</span> <span class="n">SQLiteDataStore</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
</pre></div>
</div>
<p>SQLiteDataStore implement a naive wrapper to convert Field
types into database type.</p>
<ul class="simple">
<li>int will be saved in the database as INTEGER</li>
<li>float will be saved in the database as REAL</li>
<li>basestring will be saved in the database as TEXT</li>
<li>if the Field type is PKField, is a will be saved as
PRIMARY KEY AUTOINCREMENT</li>
</ul>
<p>As soon as the datastore is instanciated, the database is create
if it does not exists and table is created too</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Constrains are not supported for now</li>
<li>It is not possible to use :memory database either.
The connection is closed after each operations</li>
</ul>
</div>
<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">create</tt><big>(</big><em>data</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.create"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Validate the data with <tt class="xref py py-meth docutils literal"><span class="pre">base.DataStore.validate()</span></tt>
And, if data is valid, create the row in database and return it.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">delete</tt><big>(</big><em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.delete"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retreive the object to be updated
(<tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt> will raise a NotFound error if
the row does not exist)</p>
<p>Return None</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">filter</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.filter"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Change kwargs[&#8220;query&#8221;] with &#8220;WHERE X=Y statements&#8221;.  The
filtering will be done with the actual evaluation of the query
in <tt class="xref py py-meth docutils literal"><span class="pre">paginate()</span></tt> the sql can then be lazy</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">get</tt><big>(</big><em>identifier</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.get"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Return a single row or raise NotFound</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">get_connector</tt><big>(</big><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.get_connector"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return a sqlite3 connection to communicate with the table
define in self.table</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">get_list</tt><big>(</big><em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.get_list"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>return all the objects, paginated if needed, fitered if
filters have been set.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">paginate</tt><big>(</big><em>data</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.paginate"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>paginate the result of filter using ids limits.  Obviously, to
work properly, you have to set the start to the last ids you
receive from the last call on this method. The max number of
row this method can give back depend on the paginate_by option.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descclassname">SQLiteDataStore.</tt><tt class="descname">update</tt><big>(</big><em>obj</em>, <em>data</em><big>)</big><a class="reference internal" href="_modules/rest_api_framework/datastore/sql.html#SQLiteDataStore.update"><span class="viewcode-link">[source]</span></a></dt>
<dd><p>Retreive the object to be updated
(<tt class="xref py py-meth docutils literal"><span class="pre">get()</span></tt> will raise a NotFound error if
the row does not exist)</p>
<p>Validate the fields to be updated and return the updated row</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">REST API Framework API references</a><ul>
<li><a class="reference internal" href="#module-rest_api_framework.controllers">Controllers</a></li>
<li><a class="reference internal" href="#authentication">Authentication</a></li>
<li><a class="reference internal" href="#pagination">Pagination</a></li>
<li><a class="reference internal" href="#datastore">DataStore</a><ul>
<li><a class="reference internal" href="#base-datastore">Base DataStore</a></li>
<li><a class="reference internal" href="#simple-datastore">Simple DataStore</a></li>
<li><a class="reference internal" href="#sqlitedatastore">SQLiteDataStore</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="multiple_endpoint.html"
                        title="previous chapter">Using more than a single endpoint</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/references.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="multiple_endpoint.html" title="Using more than a single endpoint"
             >previous</a> |</li>
        <li><a href="index.html">Python Rest Api Framework 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Yohann Gabory.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>